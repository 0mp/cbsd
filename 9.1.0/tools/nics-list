#!/bin/sh
#v9.0.0
# -d for description
DESC=0
MYDESC="Return network interfaces list"

if [ "$1" = "--help" ]; then
    echo $MYDESC
    exit
fi

[ "${1}" != "-d" ] || DESC=1

for i in $(/sbin/ifconfig -l); do
  case "${i%%[0-9]*}" in
  ipfw|fwe|fwip|plip|pfsync|pflog|tun|vboxnet)
    continue
    ;;
  esac

if [ ${DESC} -eq 1 ]; then
    if [ ! -f "${DMESG}" ]; then
	IDENT="Not available";
    else 
	IDENT=$(/bin/cat ${DMESG} | /usr/bin/sed -n "s/^$i: <\(.*\)>.*$/\1/p" | /usr/bin/head -1)
    fi
echo "${i}: <$IDENT>"
else
echo "${i}"
fi
done
